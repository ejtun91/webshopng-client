"use strict";(self.webpackChunkwebshop_client=self.webpackChunkwebshop_client||[]).push([[247],{6247:(Y,u,i)=>{i.r(u),i.d(u,{ProductsModule:()=>G});var g=i(6895),s=i(433),a=i(6684),l=i(1989),C=i(4466),_=i(7579),P=i(2722),t=i(1571),m=i(9143),M=i(7585),h=i(805),O=i(5593),f=i(2453),x=i(5047),v=i(6408);const y=function(e){return{"background-image":e}};function b(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"li",6),t.NdJ("click",function(){const d=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.changeSelectedImage(d))}),t.qZA()}2&e&&t.Q6J("ngStyle",t.VKq(1,y,"url("+c.$implicit+")"))}function Z(e,c){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.qZA(),t.TgZ(3,"div",4)(4,"ul"),t.YNc(5,b,1,3,"li",5),t.qZA()()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("src",n.selectedImage,t.LSH),t.xp6(3),t.Q6J("ngForOf",n.images)}}let T=(()=>{class e{constructor(){}ngOnInit(){this.images.length&&(this.selectedImage=this.images[0])}changeSelectedImage(n){this.selectedImage=n}get hasImages(){return this.images?.length>0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ui-gallery"]],inputs:{images:"images"},decls:1,vars:1,consts:[["class","gallery",4,"ngIf"],[1,"gallery"],[1,"main-image"],["alt","",3,"src"],[1,"images"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[3,"ngStyle","click"]],template:function(n,o){1&n&&t.YNc(0,Z,6,2,"div",0),2&n&&t.Q6J("ngIf",o.hasImages)},dependencies:[g.sg,g.O5,g.PC],styles:[".gallery[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px;height:600px}.gallery[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%}.gallery[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin:0;padding:0;justify-content:center}.gallery[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-size:cover;width:100px;height:100px;display:block;margin-right:15px;cursor:pointer;border:1px solid rgba(167,167,167,.507)}"]}),e})();function I(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"ui-gallery",4),t.qZA(),t.TgZ(4,"div",5)(5,"h2",6),t._uU(6),t.qZA(),t.TgZ(7,"p",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"p-rating",9),t.NdJ("ngModelChange",function(r){t.CHM(n);const d=t.oxw();return t.KtG(d.product.rating=r)}),t.qZA()(),t.TgZ(11,"div",10),t._uU(12),t.ALo(13,"currency"),t.TgZ(14,"span",11),t._uU(15),t.ALo(16,"currency"),t.qZA()(),t.TgZ(17,"div",12)(18,"div",13)(19,"label",14),t._uU(20,"Quantity"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"p-inputNumber",15),t.NdJ("ngModelChange",function(r){t.CHM(n);const d=t.oxw();return t.KtG(d.quantity=r)}),t.qZA()()(),t.TgZ(23,"div",16),t._UZ(24,"button",17),t.TgZ(25,"button",18),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.addProductToCart())}),t.qZA()()()(),t.TgZ(26,"div",19)(27,"div",20),t._UZ(28,"div",21),t.qZA()()()}if(2&e){const n=t.oxw();t.xp6(3),t.Q6J("images",n.product.images),t.xp6(3),t.Oqu(n.product.name),t.xp6(2),t.Oqu(n.product.description),t.xp6(2),t.Q6J("ngModel",n.product.rating)("cancel",!1)("disabled",!0),t.xp6(2),t.hij(" ",t.xi3(13,13,n.product.price,"EUR")," "),t.xp6(3),t.Oqu(t.xi3(16,16,n.product.price+18,"EUR")),t.xp6(7),t.Q6J("ngModel",n.quantity)("min",0)("max",100)("showButtons",!0),t.xp6(6),t.Q6J("innerHTML",n.product.richDescription,t.oJD)}}let J=(()=>{class e{constructor(n,o,r,d){this.productService=n,this.route=o,this.cartService=r,this.messageService=d,this.endSubs$=new _.x,this.quantity=1}ngOnInit(){this.route.params.subscribe(n=>{n?.productId&&this._getProduct(n?.productId)})}_getProduct(n){this.productService.getProduct(n).pipe((0,P.R)(this.endSubs$)).subscribe(o=>{this.product=o})}addProductToCart(){this.cartService.setCartItem({productId:this.product.id,quantity:this.quantity}),this.messageService.add({severity:"success",summary:"Item Added",detail:"1 Item added to the cart",icon:"none"})}ngOnDestroy(){this.endSubs$.next(null),this.endSubs$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.s),t.Y36(a.gz),t.Y36(M.N),t.Y36(h.ez))},e.\u0275cmp=t.Xpm({type:e,selectors:[["products-product-page"]],decls:2,vars:1,consts:[["class","product-page",4,"ngIf"],[1,"product-page"],[1,"grid"],[1,"col-6"],[3,"images"],[1,"col-6","product"],[1,"product-name"],[1,"product-desc"],[1,"product-rating"],[3,"ngModel","cancel","disabled","ngModelChange"],[1,"product-price"],[1,"price-before"],[1,"product-quantity"],[1,"field","col-12","md:col-3","p-0"],["for","quantity"],["inputId","minmaxfraction","mode","decimal","inputId","quantity",3,"ngModel","min","max","showButtons","ngModelChange"],[1,"product-action"],["pButton","","pRipple","","type","button","label","Buy Now",1,"p-button-rounded","mr-2"],["pButton","","pRipple","","type","button","label","Add to Cart",1,"p-button-rounded",3,"click"],[1,"grid","product-rich-desc"],[1,"col-12"],[3,"innerHTML"]],template:function(n,o){1&n&&(t.YNc(0,I,29,19,"div",0),t._UZ(1,"p-toast")),2&n&&t.Q6J("ngIf",o.product)},dependencies:[g.O5,O.Hq,f.FN,x.Rn,v.iG,T,s.JJ,s.On,g.H9],styles:[".product-name[_ngcontent-%COMP%]{font-size:2em}.product-desc[_ngcontent-%COMP%]{font-size:1.4em}.product-rating[_ngcontent-%COMP%]{margin:15px 0}.product-price[_ngcontent-%COMP%]{font-size:1.4em;font-weight:600;border-bottom:1px solid var(--surface-300);padding:25px 0}.product-price[_ngcontent-%COMP%]   .price-before[_ngcontent-%COMP%]{font-size:.7em;margin-left:10px;font-weight:200;color:var(--surface-500);text-decoration:line-through}.product-quantity[_ngcontent-%COMP%]{margin:25px 0}.product-quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2em}.product-quantity[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%], .product-action[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background-color:#ff3a00;border:none}.product-rich-desc[_ngcontent-%COMP%]{line-height:1.6;letter-spacing:.5px}.product-page[_ngcontent-%COMP%], .products-page[_ngcontent-%COMP%]{max-width:1300px;margin:0 auto;min-height:100vh}"]}),e})();var A=i(8443),S=i(5118);function w(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",7)(1,"p-checkbox",8),t.NdJ("ngModelChange",function(r){const p=t.CHM(n).$implicit;return t.KtG(p.checked=r)})("onChange",function(){t.CHM(n);const r=t.oxw(2);return t.KtG(r.categoryFilter())}),t.qZA(),t.TgZ(2,"label",9),t._uU(3),t.qZA()()}if(2&e){const n=c.$implicit;t.xp6(1),t.Q6J("ngModel",n.checked)("binary",!0)("inputId",n.id),t.xp6(1),t.s9C("for",n.id),t.xp6(1),t.Oqu(n.name)}}function F(e,c){if(1&e&&(t.TgZ(0,"div",5)(1,"h4"),t._uU(2,"Categories"),t.qZA(),t.YNc(3,w,4,5,"div",6),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Q6J("ngForOf",n.categories)}}const q=function(e,c){return{"col-4":e,"col-3":c}};function L(e,c){if(1&e&&(t.TgZ(0,"div",3),t._UZ(1,"products-product-item",11),t.qZA()),2&e){const n=c.$implicit,o=t.oxw(2);t.Q6J("ngClass",t.WLB(2,q,!o.isCategoryPage,o.isCategoryPage)),t.xp6(1),t.Q6J("product",n)}}function Q(e,c){if(1&e&&(t.TgZ(0,"div",1),t.YNc(1,L,2,5,"div",10),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.products)}}const N=function(e,c){return{"col-9":e,"col-12":c}},U=[{path:"",children:[{path:"",component:(()=>{class e{constructor(n,o,r){this.productService=n,this.catService=o,this.route=r,this.products=[],this.categories=[]}ngOnInit(){this.route.params.subscribe(n=>{n?.categoryid?this._getProducts([n?.categoryid]):this._getProducts(),this.isCategoryPage=!!n?.categoryid}),this._getCategories()}_getCategories(){this.catService.getCategories().subscribe(n=>this.categories=n)}_getProducts(n){this.productService.getProducts(n).subscribe(o=>this.products=o)}categoryFilter(){const n=this.categories.filter(o=>o.checked).map(o=>o.id);this._getProducts(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.s),t.Y36(A.G),t.Y36(a.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["products-list"]],decls:5,vars:6,consts:[[1,"products-page"],[1,"grid"],["class","col-3",4,"ngIf"],[3,"ngClass"],["class","grid",4,"ngIf"],[1,"col-3"],["class","field-checkbox",4,"ngFor","ngForOf"],[1,"field-checkbox"],[3,"ngModel","binary","inputId","ngModelChange","onChange"],[3,"for"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"product"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,F,4,1,"div",2),t.TgZ(3,"div",3),t.YNc(4,Q,2,1,"div",4),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!o.isCategoryPage),t.xp6(1),t.Q6J("ngClass",t.WLB(3,N,!o.isCategoryPage,o.isCategoryPage)),t.xp6(1),t.Q6J("ngIf",o.products))},dependencies:[g.mk,g.sg,g.O5,l.XZ,S.V,s.JJ,s.On],styles:[".featured-products[_ngcontent-%COMP%]{width:1300px;margin:0 auto;padding:3em 0}.featured-products[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:4em!important}.featured-products[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]:nth-of-type(even){border-left:1px solid #e5e7f2;border-right:1px solid #e5e7f2}.featured-products[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #e5e7f2}.products-page[_ngcontent-%COMP%]{max-width:1300px;margin:0 auto}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{row-gap:1em}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]{cursor:pointer}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]:nth-of-type(even){border-left:1px solid #e5e7f2;border-right:1px solid #e5e7f2}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #e5e7f2}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]:nth-of-type(3), .products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]:nth-of-type(9), .products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]:nth-of-type(15){border-right:1px solid #e5e7f2}@media (max-width: 768px){.featured-products[_ngcontent-%COMP%]{width:100%}.featured-products[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.featured-products[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:2em}.featured-products[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{border:none;width:100%;margin:0 auto}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{flex-direction:column}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%;margin-left:1em}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]{width:100%}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]{border:none!important;width:100%}.products-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]   .product-item-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{margin-bottom:.7em!important}}"]}),e})()},{path:":productId",component:J}]}];let G=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,C.m,a.Bz.forChild(U),s.u5,l.nD]}),e})()}}]);