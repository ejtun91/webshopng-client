"use strict";(self.webpackChunkwebshop_client=self.webpackChunkwebshop_client||[]).push([[553],{1553:(b,m,e)=>{e.r(m),e.d(m,{CartModule:()=>I});var d=e(6895),s=e(433),u=e(6684),p=e(4466),l=e(7579),C=e(2722),t=e(1571),h=e(7585),v=e(7977),M=e(805),P=e(5593),O=e(2453),f=e(5047),x=e(3602);function _(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t._UZ(3,"img",10),t.qZA(),t.TgZ(4,"div",11)(5,"div",12),t._uU(6),t.qZA(),t.TgZ(7,"div",13),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"div",14)(11,"p-button",15),t.NdJ("onClick",function(){const c=t.CHM(n).$implicit,g=t.oxw();return t.KtG(g.deleteCartItem(c))}),t.qZA()()(),t.TgZ(12,"div",16)(13,"div",17)(14,"p-inputNumber",18),t.NdJ("onInput",function(a){const g=t.CHM(n).$implicit,Z=t.oxw();return t.KtG(Z.updateCartItemQuantity(a,g))})("ngModelChange",function(a){const g=t.CHM(n).$implicit;return t.KtG(g.quantity=a)}),t.qZA()(),t.TgZ(15,"div",19),t._uU(16," Subtotal: "),t.TgZ(17,"span",20),t._uU(18),t.ALo(19,"currency"),t.qZA()()()()()}if(2&o){const n=i.$implicit;t.xp6(3),t.Q6J("src",null==n||null==n.product?null:n.product.image,t.LSH),t.uIk("alt",n.product.name),t.xp6(3),t.Oqu(n.product.name),t.xp6(2),t.Oqu(t.xi3(9,10,n.product.price,"EUR")),t.xp6(6),t.Q6J("inputId",n.product.id)("min",0)("max",100)("showButtons",!0)("ngModel",n.quantity),t.xp6(4),t.Oqu(t.xi3(19,13,n.product.price*(null==n?null:n.quantity),"EUR"))}}const y=[{path:"",children:[{path:"",pathMatch:"full",redirectTo:"cart"},{path:"",component:(()=>{class o{constructor(n,r,a,c){this.router=n,this.cartService=r,this.ordersService=a,this.messageService=c,this.cartItemsDetailed=[],this.cartCount=0,this.endSubs$=new l.x}ngOnInit(){this._getCartDetails()}backToShop(){this.router.navigate(["/products"])}deleteCartItem(n){this.cartService.deleteCartItem(n.product?.id),this.messageService.add({severity:"warn",summary:"Item Deleted",detail:"Item deleted from the cart",icon:"none"})}_getCartDetails(){this.cartService.cart$.pipe((0,C.R)(this.endSubs$)).subscribe(n=>{this.cartItemsDetailed=[],this.cartCount=n.items?.length??0,n.items?.forEach(r=>{this.ordersService.getProduct(r?.productId).subscribe(a=>this.cartItemsDetailed.push({product:a,quantity:r.quantity}))})})}updateCartItemQuantity(n,r){this.cartService.setCartItem({productId:r.product.id,quantity:n.value},!0),this.messageService.add({severity:"success",summary:"Item Added",detail:"1 Item added to the cart",icon:"none"})}ngOnDestroy(){this.endSubs$.next(null),this.endSubs$.complete()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u.F0),t.Y36(h.N),t.Y36(v.N),t.Y36(M.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["orders-cart-page"]],decls:14,vars:2,consts:[[1,"cart-page"],[1,"grid"],[1,"col-8"],["label","Continue Shopping","icon","pi pi-arrow-left",3,"onClick"],[1,"cart-shipping","mb-5"],["class","cart-item mb-5",4,"ngFor","ngForOf"],[1,"col-4"],[1,"cart-item","mb-5"],[1,"grid","p-fluid"],[1,"col-2","cart-item-img"],[3,"src"],[1,"col-7"],[1,"cart-item-name"],[1,"cart-item-price"],[1,"cart-item-remove"],["icon","pi pi-trash",3,"onClick"],[1,"col-3"],[1,"field","cart-item-quantity"],["mode","decimal",3,"inputId","min","max","showButtons","ngModel","onInput","ngModelChange"],[1,"cart-item-subtotal"],[1,"cart-item-subtotal-value"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"p-button",3),t.NdJ("onClick",function(){return r.backToShop()}),t.qZA()(),t.TgZ(5,"div")(6,"h4"),t._uU(7),t.qZA()(),t.TgZ(8,"div",4),t._uU(9," Shipping after payment, delivery time: 1 to 4 working days "),t.qZA(),t.YNc(10,_,20,16,"div",5),t.qZA(),t.TgZ(11,"div",6),t._UZ(12,"orders-order-summary"),t.qZA()()(),t._UZ(13,"p-toast")),2&n&&(t.xp6(7),t.hij("My Cart: ",r.cartCount," Item(s)"),t.xp6(3),t.Q6J("ngForOf",r.cartItemsDetailed))},dependencies:[s.JJ,s.On,d.sg,P.zx,O.FN,f.Rn,x.h,d.H9],styles:[".cart-page[_ngcontent-%COMP%]{min-height:500px;max-width:1300px;margin:0 auto}.cart-page[_ngcontent-%COMP%]   .cart-shipping[_ngcontent-%COMP%]{color:var(--green-700)}.cart-page[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--surface-300);border-radius:15px;padding:15px}.cart-page[_ngcontent-%COMP%]   .cart-item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;max-width:100%;object-fit:cover}.cart-page[_ngcontent-%COMP%]   .cart-item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.2em;margin-bottom:15px}.cart-page[_ngcontent-%COMP%]   .cart-item-price[_ngcontent-%COMP%]{font-weight:600;font-size:1.2em;margin-bottom:15px;color:#ff3a00}.cart-page[_ngcontent-%COMP%]   .cart-item-quantity[_ngcontent-%COMP%]{margin:15px 0}.cart-page[_ngcontent-%COMP%]   .cart-item-subtotal[_ngcontent-%COMP%]{font-weight:600}.cart-page[_ngcontent-%COMP%]   .cart-item-subtotal-value[_ngcontent-%COMP%]{color:var(--green-700)}@media (max-width: 768px){.cart-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{flex-direction:column}.cart-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-8[_ngcontent-%COMP%]{width:100%}.cart-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-8[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{width:80%;margin:0 auto}.cart-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-8[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}.cart-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-8[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset}.cart-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]{width:100%}.cart-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]{width:90%;margin:0 auto;padding:0 .5em}}"]}),o})()}]}];let I=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(y),s.u5,d.ez,p.m]}),o})()}}]);